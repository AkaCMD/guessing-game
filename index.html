<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>机翻猜游戏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: white;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            padding: 30px;
            color: #fff;
            position: relative;
            overflow: hidden;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            z-index: -1;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(to right, #ff8a00, #da1b60);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #a0a0ff;
            margin-bottom: 25px;
        }
        
        .game-stats {
            display: flex;
            justify-content: space-around;
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .stat-box {
            text-align: center;
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: black;
        }
        
        .stat-label {
            font-size: 1rem;
            color: #aaa;
        }
        
        .game-area {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }
        
        .question {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .question-label {
            font-size: 1.1rem;
            color: black;
            margin-bottom: 10px;
        }
        
        .machine-name {
            font-size: 2.5rem;
            font-weight: bold;
            color: black;
            margin: 15px 0;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .input-area {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .input-group {
            position: relative;
        }
        
        #answer-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.3rem;
            border: none;
            border-radius: 50px;
            background: white;
            color: black;
            box-shadow: 0 0 10px rgba(100, 100, 255, 0.3);
            transition: all 0.3s;
        }
        
        #answer-input:focus {
            outline: none;
            box-shadow: 0 0 15px rgba(100, 200, 255, 0.7);
            background: white;
        }
        
        #suggestions {
            position: absolute;
            width: 100%;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5);
            max-height: 200px;
            overflow-y: auto;
            z-index: 10;
            display: none;
        }
        
        .suggestion-item {
            padding: 12px 20px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: black;
        }
        
        .suggestion-item:hover {
            background: rgba(50, 100, 150, 0.7);
            color: white;
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .btn {
            padding: 12px 35px;
            font-size: 1.2rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        #submit-btn {
            background: linear-gradient(to right, #00b09b, #96c93d);
            color: white;
        }
        
        #show-answer-btn {
            background: linear-gradient(to right, #ff9966, #ff5e62);
            color: white;
        }
        
        #next-btn {
            background: linear-gradient(to right, #2193b0, #6dd5ed);
            color: white;
            display: none;
        }
        
        .result {
            text-align: center;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            padding: 15px;
            border-radius: 12px;
            font-size: 1.3rem;
            display: none;
            color: black;
        }
        
        .correct {
            background: white;
            color: #8ac926;
            display: none;
        }
        
        .incorrect {
            background: white;
            color: #ff6b6b;
            display: none;
        }

        .answer {
            background: white;
            color: #8ac926;
            display: flex;
        }

        .correct-answer-line {
            margin-bottom: 5px;
        }

        .english-original-line {
            font-size: 1rem;
            color: #8ac926;
            font-style: italic;
        }
        
        .congrats {
            text-align: center;
            padding: 30px;
            background: white;
            color: black;
            border-radius: 15px;
            display: none;
        }
        
        .congrats h2 {
            font-size: 2.5rem;
            color: black;
            margin-bottom: 20px;
        }
        
        .congrats p {
            font-size: 1.4rem;
            margin-bottom: 25px;
        }
        
        #restart-btn {
            background: linear-gradient(to right, #834d9b, #d04ed6);
            color: white;
            padding: 12px 40px;
            font-size: 1.3rem;
        }

        .autocomplete-toggle {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .toggle-label {
            font-size: 1.1rem;
            color: #a0a0ff;
        }

        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #2196F3;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .slider.round {
            border-radius: 34px;
        }

        .slider.round:before {
            border-radius: 50%;
        }
        
        footer {
            text-align: center;
            margin-top: 25px;
            color: #aaa;
            font-size: 0.9rem;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px 15px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .subtitle {
                font-size: 1rem;
            }
            
            .machine-name {
                font-size: 1.8rem;
            }
            
            .english-name {
                font-size: 1.1rem;
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
            
            .buttons {
                flex-direction: column;
                gap: 12px;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>根据机翻猜游戏</h1>
        </header>
        
        <div class="game-stats">
            <div class="stat-box">
                <div class="stat-value" id="score">0</div>
                <div class="stat-label">得分</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="progress">0/0</div>
                <div class="stat-label">进度</div>
            </div>
            <div class="stat-box">
                <div class="stat-value" id="remaining">0</div>
                <div class="stat-label">剩余</div>
            </div>
        </div>
        
        <div class="game-area" id="game-area">
            <div class="question">
                <div class="question-label">机翻名称：</div>
                <div class="machine-name" id="machine-name">加载中...</div>
            </div>
            
            <div class="input-area">
                <div class="autocomplete-toggle">
                    <label class="switch">
                    <input type="checkbox" id="autocomplete-toggle">
                    <span class="slider round"></span>
                    </label>
                    <span class="toggle-label">自动补全</span>
                </div>
                <div class="input-group">
                    <input type="text" id="answer-input" placeholder="输入对应常用简中游戏名..." autocomplete="off">
                    <div id="suggestions"></div>
                </div>
                
                <div class="buttons">
                    <button class="btn" id="submit-btn">提交答案</button>
                    <button class="btn" id="show-answer-btn">显示答案</button>
                    <button class="btn" id="next-btn">下一题</button>
                </div>
                
                <div class="result correct" id="result-correct">
                    <span>✅ 太棒了！回答正确！</span>
                </div>
                <div class="result incorrect" id="result-incorrect">
                    <span>❌ 答案不正确，请再试一次！</span>
                </div>
                
                <div class="result answer" id="result-answer">
                    <div class="correct-answer-line">
                        <span>正确答案: </span>
                        <span id="correct-answer"></span>
                    </div>
                    <div class="english-original-line">
                        <span id="english-original"></span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="congrats" id="congrats">
            <h2>🎉 恭喜你！ 🎉</h2>
            <p>你已经完成了所有题目！（未来可能持续更新）</p>
            <p>最终得分: <span id="final-score">0</span>/<span id="total-questions">0</span></p>
            <button class="btn" id="restart-btn">再玩一次</button>
        </div>
        
        <footer>
            <p>感谢微软提供了不少素材。如果你会英文和简中，并且是游戏玩家，会相对简单</p>
        </footer>
    </div>

    <script>
        // 游戏数据库
        const gameDatabase = [
            {
                machineTrans: "7 天要死",
                english: "7 Days to Die",
                officialTrans: "七日杀",
                aliases: ["7日杀"]
            },
            {
                machineTrans: "顶点图例",
                english: "Apex Legends",
                officialTrans: "Apex英雄",
                aliases: ["APEX英雄", "Apex"]
            },
            {
                machineTrans: "供认",
                english: "Avowed",
                officialTrans: "宣誓",
                aliases: []
            },
            {
                machineTrans: "巴尔杜尔门 3",
                english: "Baldur's Gate 3",
                officialTrans: "博德之门3",
                aliases: ["博德之门III", "博德之门 3"]
            },
            {
                machineTrans: "公民卧卧 2： 星向量",
                english: "Citizen Sleeper 2: Starward Vector",
                officialTrans: "深空梦里人2",
                aliases: ["深空梦里人 2"]
            },
            {
                machineTrans: "在白天死亡",
                english: "Dead by Daylight",
                officialTrans: "黎明杀机",
                aliases: []
            },
            {
                machineTrans: "不要一起挨饿",
                english: "Don't Starve Together",
                officialTrans: "饥荒联机版",
                aliases: ["饥荒：联机版", "饥荒多人版"]
            },
            {
                machineTrans: "根信影响",
                english: "Genshin Impact",
                officialTrans: "原神",
                aliases: []
            },
            {
                machineTrans: "王国来了： 交付 2",
                english: "Kingdom Come: Deliverance 2",
                officialTrans: "天国：拯救2",
                aliases: ["天国拯救2"]
            },
            {
                machineTrans: "左 4 死 2",
                english: "Left 4 Dead 2",
                officialTrans: "求生之路2",
                aliases: ["L4D2"]
            },
            {
                machineTrans: "奇迹对手",
                english: "Marvel Rivals",
                officialTrans: "漫威争锋",
                aliases: []
            },
            {
                machineTrans: "& 边栏选项卡 II：横幅",
                english: "Mount & Blade II: Bannerlord",
                officialTrans: "骑马与砍杀2：霸主",
                aliases: ["骑马与砍杀2", "骑砍2"]
            },
            {
                machineTrans: "红色死亡救赎 2",
                english: "Red Dead Redemption 2",
                officialTrans: "荒野大镖客：救赎2",
                aliases: ["荒野大镖客2"]
            },
            {
                machineTrans: "拆分小说",
                english: "Split Fiction",
                officialTrans: "双影奇境",
                aliases: []
            },
            {
                machineTrans: "丢失的船",
                english: "Lost Ark",
                officialTrans: "失落的方舟",
                aliases: ["失落方舟"]
            },
            {
                machineTrans: "居住的邪恶 4 重新掌握",
                english: "Resident Evil 4 Remake",
                officialTrans: "生化危机4 重制版",
                aliases: ["生化危机4：重制版", "生化危机4重制版"]
            },
            {
                machineTrans: "动物穿越",
                english: "Animal Crossing",
                officialTrans: "动物森友会",
                aliases: ["集合啦！动物森友会"]
            },
            {
                machineTrans: "人类：平躺",
                english: "Human: Fall Flat",
                officialTrans: "人类一败涂地",
                aliases: []
            },
            {
                machineTrans: "需要两人",
                english: "It Takes Two",
                officialTrans: "双人成行",
                aliases: []
            },
            {
                machineTrans: "跌倒的家伙们",
                english: "Fall Guys",
                officialTrans: "糖豆人",
                aliases: []
            },
            {
                machineTrans: "大偷车 5",
                english: "Grand Theft Auto V",
                officialTrans: "侠盗猎车手5",
                aliases: ["侠盗猎车手V", "侠盗猎车手 5"]
            },
            {
               machineTrans: "远哭",
               english: "Far Cry",
               officialTrans: "孤岛惊魂",
               aliases: [] 
            },
            {
                machineTrans: "金属齿轮固体",
                english: "Metal Gear Solid",
                officialTrans: "合金装备",
                aliases: ["潜龙谍影"]
            },
            {
                machineTrans: "发薪日",
                english: "Payday",
                officialTrans: "收获日",
                aliases: []
            },
            {
                machineTrans: "反击：围棋",
                english: "Counter-Strike: Global Offensive",
                officialTrans: "反恐精英：全球攻势",
                aliases: []
            },
            {
                machineTrans: "辫子",
                english: "Braid",
                officialTrans: "时空幻境",
                aliases: []
            },
            {
                machineTrans: "目击者",
                english: "The Witness",
                officialTrans: "见证者",
                aliases: []
            }
        ];

        // 游戏状态变量
        let currentGameIndex = 0;
        let score = 0;
        let gameData = [];
        let remaining = 0;
        
        // DOM 元素
        const machineNameEl = document.getElementById('machine-name');
        const englishNameEl = document.getElementById('english-name');
        const answerInput = document.getElementById('answer-input');
        const suggestionsEl = document.getElementById('suggestions');
        const submitBtn = document.getElementById('submit-btn');
        const showAnswerBtn = document.getElementById('show-answer-btn');
        const nextBtn = document.getElementById('next-btn');
        const resultCorrectEl = document.getElementById('result-correct');
        const resultAnswerEl = document.getElementById('result-answer');
        const correctAnswerEl = document.getElementById('correct-answer');
        const congratsEl = document.getElementById('congrats');
        const scoreEl = document.getElementById('score');
        const progressEl = document.getElementById('progress');
        const remainingEl = document.getElementById('remaining');
        const finalScoreEl = document.getElementById('final-score');
        const totalQuestionsEl = document.getElementById('total-questions');
        const restartBtn = document.getElementById('restart-btn');
        const autocompleteToggle = document.getElementById('autocomplete-toggle');
        const resultIncorrectEl = document.getElementById('result-incorrect');
        
        // 初始化游戏
        function initGame() {
            // 复制并打乱游戏数据
            gameData = [...gameDatabase];
            shuffleArray(gameData);
            
            // 重置游戏状态
            currentGameIndex = 0;
            score = 0;
            remaining = gameData.length;
            
            // 更新UI
            updateStats();
            showQuestion();
            
            // 隐藏结果和恭喜信息
            resultCorrectEl.style.display = 'none';
            resultAnswerEl.style.display = 'none';
            congratsEl.style.display = 'none';
            nextBtn.style.display = 'none';
            
            // 显示游戏区域
            document.getElementById('game-area').style.display = 'block';
            
            // 聚焦输入框
            answerInput.value = '';
            answerInput.focus();
        }
        
        // 打乱数组
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        
        // 显示当前问题
        function showQuestion() {
            const currentGame = gameData[currentGameIndex];
            machineNameEl.textContent = currentGame.machineTrans;
            
            // 重置UI状态
            answerInput.disabled = false;
            submitBtn.disabled = false;
            showAnswerBtn.disabled = false;
            resultCorrectEl.style.display = 'none';
            resultIncorrectEl.style.display = 'none';
            resultAnswerEl.style.display = 'none';
            nextBtn.style.display = 'none';
            
            // 清除输入框
            answerInput.value = '';
            suggestionsEl.innerHTML = '';
            suggestionsEl.style.display = 'none';
            
            // 聚焦输入框
            answerInput.focus();
        }
        
        // 更新统计信息
        function updateStats() {
            scoreEl.textContent = score;
            progressEl.textContent = `${currentGameIndex}/${gameData.length}`;
            remainingEl.textContent = gameData.length - currentGameIndex;
        }
        
        // 检查答案
        function checkAnswer() {
            const userAnswer = answerInput.value.trim();
            const currentGame = gameData[currentGameIndex];
            
            // 检查官方译名和所有别名
            const possibleAnswers = [currentGame.officialTrans, ...currentGame.aliases];
            const normalizedAnswers = possibleAnswers.map(answer => 
                answer.toLowerCase().replace(/\s+/g, '')
            );
            
            const normalizedUserAnswer = userAnswer.toLowerCase().replace(/\s+/g, '');
            
            // 隐藏所有结果提示
            resultCorrectEl.style.display = 'none';
            resultAnswerEl.style.display = 'none';
            resultIncorrectEl.style.display = 'none';
            
            if (normalizedAnswers.includes(normalizedUserAnswer)) {
                // 正确答案
                score++;
                resultCorrectEl.style.display = 'flex';
                
                // 更新UI
                answerInput.disabled = true;
                submitBtn.disabled = true;
                showAnswerBtn.disabled = true;
                nextBtn.style.display = 'block';
            } else {
                // 错误答案
                resultIncorrectEl.style.display = 'flex';
                answerInput.focus();
            }
            
            updateStats();
        }
        
        // 显示答案
        function showAnswer() {
            const currentGame = gameData[currentGameIndex];
            
            // 显示正确答案
            correctAnswerEl.textContent = currentGame.officialTrans;
            // 显示英文原文
            document.getElementById('english-original').textContent = currentGame.english;
            
            resultAnswerEl.style.display = 'flex';
            resultCorrectEl.style.display = 'none';
            resultAnswerEl.style.flexDirection = 'column';
            
            // 更新UI
            answerInput.disabled = true;
            submitBtn.disabled = true;
            showAnswerBtn.disabled = true;
            nextBtn.style.display = 'block';
            
            // 隐藏建议
            suggestionsEl.style.display = 'none';
        }
        
        // 下一题
        function nextQuestion() {
            currentGameIndex++;
            
            if (currentGameIndex < gameData.length) {
                showQuestion();
            } else {
                // 游戏结束
                showCongrats();
            }
            
            updateStats();
        }
        
        // 显示恭喜信息
        function showCongrats() {
            document.getElementById('game-area').style.display = 'none';
            congratsEl.style.display = 'block';
            finalScoreEl.textContent = score;
            totalQuestionsEl.textContent = gameData.length;
        }
        
        // 自动补全功能
        function showSuggestions() {
            // 如果自动补全关闭则直接返回
            if (!autocompleteToggle.checked) {
                suggestionsEl.style.display = 'none';
                return;
            }

            const userInput = answerInput.value.trim().toLowerCase();
            suggestionsEl.innerHTML = '';
            
            if (userInput.length < 1) {
                suggestionsEl.style.display = 'none';
                return;
            }
            
            // 收集所有可能的答案
            let allAnswers = [];
            gameData.forEach(game => {
                allAnswers.push(game.officialTrans);
                game.aliases.forEach(alias => allAnswers.push(alias));
            });
            
            // 去重
            const uniqueAnswers = [...new Set(allAnswers)];
            
            // 过滤匹配项
            const matches = uniqueAnswers.filter(answer => 
                answer.toLowerCase().includes(userInput)
            );
            
            if (matches.length > 0) {
                matches.forEach(match => {
                    const div = document.createElement('div');
                    div.className = 'suggestion-item';
                    div.textContent = match;
                    div.onclick = () => {
                        answerInput.value = match;
                        suggestionsEl.style.display = 'none';
                    };
                    suggestionsEl.appendChild(div);
                });
                suggestionsEl.style.display = 'block';
            } else {
                suggestionsEl.style.display = 'none';
            }
        }
        
        // 事件监听器
        answerInput.addEventListener('input', showSuggestions);
        submitBtn.addEventListener('click', checkAnswer);
        showAnswerBtn.addEventListener('click', showAnswer);
        nextBtn.addEventListener('click', nextQuestion);
        restartBtn.addEventListener('click', initGame);
        
        // 点击其他地方时隐藏建议
        document.addEventListener('click', (e) => {
            if (e.target !== answerInput && e.target !== suggestionsEl) {
                suggestionsEl.style.display = 'none';
            }
        });
        
        // 按回车键提交
        answerInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });
        
        // 初始化游戏
        initGame();
    </script>
</body>
</html>